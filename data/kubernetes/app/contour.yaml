---
class_name: contour

resources:
  registry_auths: {}
  backup: {}

values:
  fullnameOverride: "%{nest::kubernetes::service}"
  configInline:
    timeouts:
      stream-idle-timeout: 1h
  contour:
    manageCRDs: false
    ingressClass:
      name: "%{lookup('class_name')}"
      default: false
    startupProbe:
      enabled: true
      failureThreshold: 30
  envoy:
    service:
      externalTrafficPolicy: Cluster
      loadBalancerIP: "%{nest::kubernetes::load_balancer_ip}"
