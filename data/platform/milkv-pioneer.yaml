---
nest::classes:
  - 'nest::firmware::opensbi'
  - 'nest::firmware::sophgo'
  - 'nest::firmware::zsbl'

nest::bootloader: u-root
nest::dtb_file: 'sophgo/sg2042-milkv-pioneer.dtb'
nest::kernel_tag: 'unicornx/v6.18.0-rc1'
nest::soc: 'sg2042'
nest::uroot_delay: 1
nest::zfs_fork: true

nest::kernel_cmdline:
  - 'console=ttyS0,115200n8'
  - 'console=tty0'
  - 'zfs.zvol_use_blk_mq=1'

nest::kernel_config:
  # System drivers ('Y' for inclusion in u-root kernel)
  CONFIG_KEXEC_FILE: Y
  CONFIG_PCIE_SG2042_HOST: y
  CONFIG_SPI_SG2044_NOR: y
  CONFIG_PINCTRL_SOPHGO_SG2042: Y
  CONFIG_SENSORS_SG2042_MCU: y
  CONFIG_PWM_SOPHGO_SG2042: y
  CONFIG_SOPHGO_SG2042_MSI: y
  CONFIG_NLS_ISO8859_1: Y # for vfat sdcard

  # Device drivers
  CONFIG_AQTION: m
  CONFIG_DRM_AMDGPU: m

  # Linux 6.18 compat
  CONFIG_IP_NF_FILTER: null
  CONFIG_IP_NF_TARGET_REJECT: null
  CONFIG_IP_NF_NAT: null
  CONFIG_IP_NF_TARGET_MASQUERADE: null
  CONFIG_IP_NF_MANGLE: null
  CONFIG_IP6_NF_FILTER: null
  CONFIG_IP6_NF_TARGET_REJECT: null
  CONFIG_IP6_NF_NAT: null
  CONFIG_IP6_NF_TARGET_MASQUERADE: null
  CONFIG_IP6_NF_MANGLE: null
  CONFIG_IP_NF_MATCH_RPFILTER: null
  CONFIG_IP_NF_TARGET_REDIRECT: null
  CONFIG_IP_NF_RAW: null
  CONFIG_NETFILTER_XT_TARGET_CHECKSUM: null
  CONFIG_BRIDGE_EBT_T_NAT: null
