---
nest::classes:
  - 'nest::firmware::raspberrypi'
  - 'nest::firmware::uboot'

nest::dtb_file: 'broadcom/bcm2835-rpi-b-rev2.dtb'
nest::dvorak: true
nest::fscache: false
nest::journal: volatile
nest::kernel_defconfig: 'bcm2835_defconfig'
nest::puppet: false
nest::uboot_defconfig: 'rpi_defconfig'
nest::zfs: false
nest::zswap: false

nest::package_keywords:
  # Still not fully open-source or mainlined...
  sys-boot/raspberrypi-firmware: {}

nest::kernel_cmdline:
  - '8250.nr_uarts=1' # set in DT but not passed by u-boot/systemd-boot
  - 'console=tty0'
  - 'console=ttyAMA0,115200n8'
  - 'noefi' # EFI services prevent full shutdown

nest::kernel_config:
  # Unsupported
  CONFIG_BLK_DEV_NVME: null
  CONFIG_HW_RANDOM_VIRTIO: null
  CONFIG_DRM_NOUVEAU: null
  CONFIG_VIRTIO_PCI: null
  CONFIG_VIRTIO_BALLOON: null
